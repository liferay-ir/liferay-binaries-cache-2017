define(["exports"],function(e){/**
   * @license
   * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *      http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS-IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
"use strict";function t(){}function n(e,t){this.attrs=l(),this.attrsArr=[],this.newAttrs=l(),this.staticsApplied=!1,this.key=t,this.keyMap=l(),this.keyMapValid=!0,this.focused=!1,this.nodeName=e,this.text=null}function r(){this.created=v.nodesCreated&&[],this.deleted=v.nodesDeleted&&[]}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.prototype.hasOwnProperty;t.prototype=Object.create(null);var a=function(e,t){return i.call(e,t)},l=function(){return new t},u=function(e,t,r){var o=new n(t,r);return e.__incrementalDOMData=o,o},c=function(e){return s(e),e.__incrementalDOMData},s=function we(e){if(!e.__incrementalDOMData){var t=e instanceof Element,n=t?e.localName:e.nodeName,r=t?e.getAttribute("key"):null,o=u(e,n,r);if(r&&(c(e.parentNode).keyMap[r]=e),t)for(var i=e.attributes,a=o.attrs,l=o.newAttrs,s=o.attrsArr,f=0;f<i.length;f+=1){var d=i[f],p=d.name,v=d.value;a[p]=v,l[p]=void 0,s.push(p),s.push(v)}for(var h=e.firstChild;h;h=h.nextSibling)we(h)}},f=function(e,t){return"svg"===e?"http://www.w3.org/2000/svg":"foreignObject"===c(t).nodeName?null:t.namespaceURI},d=function(e,t,n,r){var o=f(n,t),i=void 0;return i=o?e.createElementNS(o,n):e.createElement(n),u(i,n,r),i},p=function(e){var t=e.createTextNode("");return u(t,"#text",null),t},v={nodesCreated:null,nodesDeleted:null};r.prototype.markCreated=function(e){this.created&&this.created.push(e)},r.prototype.markDeleted=function(e){this.deleted&&this.deleted.push(e)},r.prototype.notifyChanges=function(){this.created&&this.created.length>0&&v.nodesCreated(this.created),this.deleted&&this.deleted.length>0&&v.nodesDeleted(this.deleted)};var h=!1,m=!1,E=function(e,t){if(!t)throw new Error("Cannot call "+e+"() unless in patch.")},N=function(e,t){if(e!==t){for(var n=e,r=[];n&&n!==t;)r.push(n.nodeName.toLowerCase()),n=n.parentNode;throw new Error("One or more tags were not closed:\n"+r.join("\n"))}},y=function(e){if(h)throw new Error(e+"() can not be called between elementOpenStart() and elementOpenEnd().")},g=function(e){if(m)throw new Error(e+"() may not be called inside an element that has called skip().")},w=function(e){if(!h)throw new Error(e+"() can only be called after calling elementOpenStart().")},O=function(){if(h)throw new Error("elementOpenEnd() must be called after calling elementOpenStart().")},b=function(e,t){if(e!==t)throw new Error('Received a call to close "'+t+'" but "'+e+'" was open.')},D=function(e,t){if(null!==t)throw new Error(e+"() must come before any child declarations inside the current element.")},x=function(e,t,n,r){var o=t.nextSibling===n&&t.previousSibling===r,i=t.nextSibling===e.nextSibling&&t.previousSibling===r,a=t===e;if(!o&&!i&&!a)throw new Error("There must be exactly one top level call corresponding to the patched element.")},k=function(e){var t=h;return h=e,t},S=function(e){var t=m;return m=e,t},_=function(e){return e instanceof Document||e instanceof DocumentFragment},V=function(e,t){for(var n=[],r=e;r!==t;)n.push(r),r=r.parentNode;return n},C=function(e){for(var t=e,n=t;t;)n=t,t=t.parentNode;return n},A=function(e){var t=C(e);return _(t)?t.activeElement:null},M=function(e,t){var n=A(e);return n&&e.contains(n)?V(n,t):[]},P=function(e,t,n){for(var r=t.nextSibling,o=n;o!==t;){var i=o.nextSibling;e.insertBefore(o,r),o=i}},j=null,I=null,T=null,B=null,L=function(e,t){for(var n=0;n<e.length;n+=1)c(e[n]).focused=t},R=function(e){var t=function(t,n,o){var i=j,a=B,l=I,u=T,c=!1,s=!1;j=new r,B=t.ownerDocument,T=t.parentNode,"production"!==process.env.NODE_ENV&&(c=k(!1),s=S(!1));var f=M(t,T);L(f,!0);var d=e(t,n,o);return L(f,!1),"production"!==process.env.NODE_ENV&&(O(),k(c),S(s)),j.notifyChanges(),j=i,B=a,I=l,T=u,d};return t},F=R(function(e,t,n){return I=e,H(),t(n),Q(),"production"!==process.env.NODE_ENV&&N(I,e),e}),U=R(function(e,t,n){var r={nextSibling:e},o=null,i=null;return"production"!==process.env.NODE_ENV&&(o=e.nextSibling,i=e.previousSibling),I=r,t(n),"production"!==process.env.NODE_ENV&&x(r,I,o,i),e!==I&&e.parentNode&&z(T,e,c(T).keyMap),r===I?null:I}),X=function(e,t,n){var r=c(e);return t===r.nodeName&&n==r.key},q=function(e,t){if(!I||!X(I,e,t)){var n=c(T),r=I&&c(I),o=n.keyMap,i=void 0;if(t){var a=o[t];a&&(X(a,e,t)?i=a:a===I?j.markDeleted(a):z(T,a,o))}i||(i="#text"===e?p(B):d(B,T,e,t),t&&(o[t]=i),j.markCreated(i)),c(i).focused?P(T,i,I):r&&r.key&&!r.focused?(T.replaceChild(i,I),n.keyMapValid=!1):T.insertBefore(i,I),I=i}},z=function(e,t,n){e.removeChild(t),j.markDeleted(t);var r=c(t).key;r&&delete n[r]},G=function(){var e=T,t=c(e),n=t.keyMap,r=t.keyMapValid,o=e.lastChild,i=void 0;if(o!==I||!r){for(;o!==I;)z(e,o,n),o=e.lastChild;if(!r){for(i in n)o=n[i],o.parentNode!==e&&(j.markDeleted(o),delete n[i]);t.keyMapValid=!0}}},H=function(){T=I,I=null},J=function(){return I?I.nextSibling:T.firstChild},K=function(){I=J()},Q=function(){G(),I=T,T=T.parentNode},W=function(e,t){return K(),q(e,t),H(),T},Y=function(){return"production"!==process.env.NODE_ENV&&S(!1),Q(),I},Z=function(){return K(),q("#text",null),I},$=function(){return"production"!==process.env.NODE_ENV&&(E("currentElement",j),y("currentElement")),T},ee=function(){return"production"!==process.env.NODE_ENV&&(E("currentPointer",j),y("currentPointer")),J()},te=function(){"production"!==process.env.NODE_ENV&&(D("skip",I),S(!0)),I=T.lastChild},ne=K,re={"default":"__default"},oe=function(e){return 0===e.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===e.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},ie=function(e,t,n){if(null==n)e.removeAttribute(t);else{var r=oe(t);r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}},ae=function(e,t,n){e[t]=n},le=function(e,t,n){t.indexOf("-")>=0?e.setProperty(t,n):e[t]=n},ue=function(e,t,n){if("string"==typeof n)e.style.cssText=n;else{e.style.cssText="";var r=e.style,o=n;for(var i in o)a(o,i)&&le(r,i,o[i])}},ce=function(e,t,n){var r="undefined"==typeof n?"undefined":o(n);"object"===r||"function"===r?ae(e,t,n):ie(e,t,n)},se=function(e,t,n){var r=c(e),o=r.attrs;if(o[t]!==n){var i=fe[t]||fe[re["default"]];i(e,t,n),o[t]=n}},fe=l();fe[re["default"]]=ce,fe.style=ue;var de=3,pe=[],ve=function(e,t,n,r){"production"!==process.env.NODE_ENV&&(y("elementOpen"),g("elementOpen"));var o=W(e,t),i=c(o);if(!i.staticsApplied){if(n)for(var a=0;a<n.length;a+=2){var l=n[a],u=n[a+1];se(o,l,u)}i.staticsApplied=!0}for(var s=i.attrsArr,f=i.newAttrs,d=!s.length,p=de,v=0;p<arguments.length;p+=2,v+=2){var h=arguments[p];if(d)s[v]=h,f[h]=void 0;else if(s[v]!==h)break;var u=arguments[p+1];(d||s[v+1]!==u)&&(s[v+1]=u,se(o,h,u))}if(p<arguments.length||v<s.length){for(;p<arguments.length;p+=1,v+=1)s[v]=arguments[p];for(v<s.length&&(s.length=v),p=0;p<s.length;p+=2){var l=s[p],u=s[p+1];f[l]=u}for(var m in f)se(o,m,f[m]),f[m]=void 0}return o},he=function(e,t,n){"production"!==process.env.NODE_ENV&&(y("elementOpenStart"),k(!0)),pe[0]=e,pe[1]=t,pe[2]=n},me=function(e,t){"production"!==process.env.NODE_ENV&&w("attr"),pe.push(e),pe.push(t)},Ee=function(){"production"!==process.env.NODE_ENV&&(w("elementOpenEnd"),k(!1));var e=ve.apply(null,pe);return pe.length=0,e},Ne=function(e){"production"!==process.env.NODE_ENV&&y("elementClose");var t=Y();return"production"!==process.env.NODE_ENV&&b(c(t).nodeName,e),t},ye=function(e,t,n,r){return ve.apply(null,arguments),Ne(e)},ge=function(e,t){"production"!==process.env.NODE_ENV&&(y("text"),g("text"));var n=Z(),r=c(n);if(r.text!==e){r.text=e;for(var o=e,i=1;i<arguments.length;i+=1){var a=arguments[i];o=a(o)}n.data=o}return n};e.patch=F,e.patchInner=F,e.patchOuter=U,e.currentElement=$,e.currentPointer=ee,e.skip=te,e.skipNode=ne,e.elementVoid=ye,e.elementOpenStart=he,e.elementOpenEnd=Ee,e.elementOpen=ve,e.elementClose=Ne,e.text=ge,e.attr=me,e.symbols=re,e.attributes=fe,e.applyAttr=ie,e.applyProp=ae,e.notifications=v,e.importNode=s});