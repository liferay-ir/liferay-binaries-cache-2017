define(["exports","../globals/globals","metal-uri/src/Uri"],function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=n(e),o=n(r),i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=function(){function t(){a(this,t)}return i(t,null,[{key:"copyNodeAttributes",value:function(t,e){Array.prototype.slice.call(t.attributes).forEach(function(t){return e.setAttribute(t.name,t.value)})}},{key:"getCurrentBrowserPath",value:function(){return this.getCurrentBrowserPathWithoutHash()+u["default"].window.location.hash}},{key:"getCurrentBrowserPathWithoutHash",value:function(){return u["default"].window.location.pathname+u["default"].window.location.search}},{key:"getNodeOffset",value:function(t){var e=0,r=0;do e+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;while(t);return{offsetLeft:e,offsetTop:r}}},{key:"getUrlPath",value:function(t){var e=new o["default"](t);return e.getPathname()+e.getSearch()+e.getHash()}},{key:"getUrlPathWithoutHash",value:function(t){var e=new o["default"](t);return e.getPathname()+e.getSearch()}},{key:"getUrlPathWithoutHashAndSearch",value:function(t){var e=new o["default"](t);return e.getPathname()}},{key:"isCurrentBrowserPath",value:function(e){if(e){var r=this.getCurrentBrowserPathWithoutHash();return t.getUrlPathWithoutHash(e)===this.getUrlPath(r)}return!1}},{key:"isHtml5HistorySupported",value:function(){return!(!u["default"].window.history||!u["default"].window.history.pushState)}},{key:"isWebUri",value:function(t){try{return new o["default"](t)}catch(e){return!1}}},{key:"clearNodeAttributes",value:function(t){Array.prototype.slice.call(t.attributes).forEach(function(e){return t.removeAttribute(e.name)})}},{key:"removePathTrailingSlash",value:function(t){var e=t?t.length:0;return e>1&&"/"===t[e-1]&&(t=t.substr(0,e-1)),t}}]),t}();t["default"]=l});