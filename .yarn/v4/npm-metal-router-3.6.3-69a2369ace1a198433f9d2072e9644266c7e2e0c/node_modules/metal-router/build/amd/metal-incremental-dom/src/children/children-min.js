define(["exports","../callArgs","metal/src/metal","../incremental-dom-aop"],function(e,n,r,t){"use strict";function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n,r){O=e,h=n,v=r,b={props:{children:[]}},b.config=b.props,m=b,C=!0,(0,t.startInterception)({elementClose:f,elementOpen:s,text:d})}function o(e){return(0,r.isDef)(e.tag)}function a(e){return e[g]}function p(e,t){if(C)return void c(e);if(!t||!t.call(null,e))if((0,r.isDef)(e.text)){var l=e.args?e.args:[];l[0]=e.text,IncrementalDOM.text.apply(null,l)}else{var i=(0,n.buildCallFromConfig)(e.tag,e.props);if(i[0]={tag:i[0],owner:a(e)},IncrementalDOM.elementOpen.apply(null,i),e.props.children)for(var o=0;o<e.props.children.length;o++)p(e.props.children[o],t);IncrementalDOM.elementClose(e.tag)}}function u(e,r){var t=l({parent:m},g,O);return r?(t.text=e[0],e.length>1&&(t.args=e)):(t.tag=e[0],t.props=(0,n.buildConfigFromCall)(e),t.props.children=[],t.config=t.props),c(t),t}function c(e){m.props.children.push(e)}function f(){if(m===b){(0,t.stopInterception)(),C=!1;var e=h.call(O,b,v);return h=null,v=null,m=null,O=null,b=null,e}return m=m.parent,!0}function s(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];m=u(n)}function d(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];u(n,!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.CHILD_OWNER=void 0,e.captureChildren=i,e.isChildTag=o,e.getOwner=a,e.renderChildTree=p;var g=e.CHILD_OWNER="__metalChildOwner",v=void 0,h=void 0,m=void 0,C=!1,O=void 0,b=void 0});