'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (_ref, _ref2) {
	var log = _ref.log;
	var pkgJson = _ref2.pkgJson;

	if (pkgJson.dependencies != null) {
		Object.keys(pkgJson.dependencies).forEach(function (name) {
			var link = pkgJson.dependencies[name];

			if (_semver2.default.validRange(link) == null) {
				var depPkgJsonPath = _path2.default.join('node_modules', name, 'package.json');

				var depPkgJson = (0, _readJsonSync2.default)(depPkgJsonPath);

				pkgJson.dependencies[name] = depPkgJson.version;

				log.info('resolve-linked-dependencies', 'Resolved link', link, 'to', depPkgJson.version);
			}
		});
	}
};

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _readJsonSync = require('read-json-sync');

var _readJsonSync2 = _interopRequireDefault(_readJsonSync);

var _semver = require('semver');

var _semver2 = _interopRequireDefault(_semver);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
//# sourceMappingURL=index.js.map