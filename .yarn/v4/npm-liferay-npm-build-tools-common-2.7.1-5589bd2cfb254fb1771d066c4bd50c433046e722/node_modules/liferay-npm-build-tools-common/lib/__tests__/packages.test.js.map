{"version":3,"sources":["../../src/__tests__/packages.test.js"],"names":["pkgs","describe","pkgDir","join","__dirname","it","expect","resolveModuleFile","toBe"],"mappings":";;AAMA;;;;AAEA;;IAAYA,I;;;;;;AARZ;;;;;;AAUAC,SAAS,mBAAT,EAA8B,YAAM;AACnC,KAAMC,SAAS,eAAKC,IAAL,CACdC,SADc,EAEd,cAFc,EAGd,UAHc,EAId,WAJc,CAAf;;AAOAC,IAAG,qCAAH,EAA0C,YAAM;AAC/CC,SAAON,KAAKO,iBAAL,CAAuBL,MAAvB,EAA+B,0BAA/B,CAAP,EAAmEM,IAAnE,CACC,0BADD;;AAIAF,SACCN,KAAKO,iBAAL,CAAuBL,MAAvB,EAA+B,4BAA/B,CADD,EAEEM,IAFF,CAEO,0BAFP;AAGA,EARD;;AAUAH,IAAG,4CAAH,EAAiD,YAAM;AACtDC,SAAON,KAAKO,iBAAL,CAAuBL,MAAvB,EAA+B,uBAA/B,CAAP,EAAgEM,IAAhE,CACC,0BADD;;AAIAF,SAAON,KAAKO,iBAAL,CAAuBL,MAAvB,EAA+B,yBAA/B,CAAP,EAAkEM,IAAlE,CACC,0BADD;AAGA,EARD;;AAUAH,IAAG,mDAAH,EAAwD,YAAM;AAC7DC,SACCN,KAAKO,iBAAL,CAAuBL,MAAvB,EAA+B,2BAA/B,CADD,EAEEM,IAFF,CAEO,4BAFP;AAGA,EAJD;;AAMAH,IAAG,gCAAH,EAAqC,YAAM;AAC1CC,SACCN,KAAKO,iBAAL,CACCL,MADD,EAEC,uCAFD,CADD,EAKEM,IALF,CAKO,wCALP;;AAOAF,SACCN,KAAKO,iBAAL,CACCL,MADD,EAEC,0CAFD,CADD,EAKEM,IALF,CAKO,wCALP;AAMA,EAdD;;AAgBAH,IAAG,iDAAH,EAAsD,YAAM;AAC3DC,SAAON,KAAKO,iBAAL,CAAuBL,MAAvB,EAA+B,iBAA/B,CAAP,EAA0DM,IAA1D,CACC,0BADD;;AAIAF,SAAON,KAAKO,iBAAL,CAAuBL,MAAvB,EAA+B,mBAA/B,CAAP,EAA4DM,IAA5D,CACC,0BADD;AAGA,EARD;;AAUAH,IAAG,gDAAH,EAAqD,YAAM;AAC1DC,SACCN,KAAKO,iBAAL,CACCL,MADD,EAEC,uCAFD,CADD,EAKEM,IALF,CAKO,+CALP;;AAOAF,SACCN,KAAKO,iBAAL,CACCL,MADD,EAEC,yCAFD,CADD,EAKEM,IALF,CAKO,iDALP;;AAOAF,SACCN,KAAKO,iBAAL,CACCL,MADD,EAEC,yCAFD,CADD,EAKEM,IALF,CAKO,iDALP;;AAOAF,SACCN,KAAKO,iBAAL,CACCL,MADD,EAEC,2CAFD,CADD,EAKEM,IALF,CAKO,mDALP;AAMA,EA5BD;AA6BA,CAzFD","file":"packages.test.js","sourcesContent":["/**\n * Â© 2017 Liferay, Inc. <https://liferay.com>\n *\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport path from 'path';\n\nimport * as pkgs from '../packages';\n\ndescribe('resolveModuleFile', () => {\n\tconst pkgDir = path.join(\n\t\t__dirname,\n\t\t'__fixtures__',\n\t\t'packages',\n\t\t'a-package'\n\t);\n\n\tit('works for file names with extension', () => {\n\t\texpect(pkgs.resolveModuleFile(pkgDir, 'no-package-json/index.js')).toBe(\n\t\t\t'no-package-json/index.js'\n\t\t);\n\n\t\texpect(\n\t\t\tpkgs.resolveModuleFile(pkgDir, './no-package-json/index.js')\n\t\t).toBe('no-package-json/index.js');\n\t});\n\n\tit('works for file names without .js extension', () => {\n\t\texpect(pkgs.resolveModuleFile(pkgDir, 'no-package-json/index')).toBe(\n\t\t\t'no-package-json/index.js'\n\t\t);\n\n\t\texpect(pkgs.resolveModuleFile(pkgDir, './no-package-json/index')).toBe(\n\t\t\t'no-package-json/index.js'\n\t\t);\n\t});\n\n\tit('works for existing modules with .js on their name', () => {\n\t\texpect(\n\t\t\tpkgs.resolveModuleFile(pkgDir, './no-package-json/file.js')\n\t\t).toBe('no-package-json/file.js.js');\n\t});\n\n\tit('works for non-existent modules', () => {\n\t\texpect(\n\t\t\tpkgs.resolveModuleFile(\n\t\t\t\tpkgDir,\n\t\t\t\t'./no-package-json/non-existent-module'\n\t\t\t)\n\t\t).toBe('no-package-json/non-existent-module.js');\n\n\t\texpect(\n\t\t\tpkgs.resolveModuleFile(\n\t\t\t\tpkgDir,\n\t\t\t\t'./no-package-json/non-existent-module.js'\n\t\t\t)\n\t\t).toBe('no-package-json/non-existent-module.js');\n\t});\n\n\tit('works for directories without package.json file', () => {\n\t\texpect(pkgs.resolveModuleFile(pkgDir, 'no-package-json')).toBe(\n\t\t\t'no-package-json/index.js'\n\t\t);\n\n\t\texpect(pkgs.resolveModuleFile(pkgDir, './no-package-json')).toBe(\n\t\t\t'no-package-json/index.js'\n\t\t);\n\t});\n\n\tit('works for directories with a package.json file', () => {\n\t\texpect(\n\t\t\tpkgs.resolveModuleFile(\n\t\t\t\tpkgDir,\n\t\t\t\t'with-package-json/no-dot/no-extension'\n\t\t\t)\n\t\t).toBe('with-package-json/no-dot/no-extension/file.js');\n\n\t\texpect(\n\t\t\tpkgs.resolveModuleFile(\n\t\t\t\tpkgDir,\n\t\t\t\t'with-package-json/no-dot/with-extension'\n\t\t\t)\n\t\t).toBe('with-package-json/no-dot/with-extension/file.js');\n\n\t\texpect(\n\t\t\tpkgs.resolveModuleFile(\n\t\t\t\tpkgDir,\n\t\t\t\t'with-package-json/with-dot/no-extension'\n\t\t\t)\n\t\t).toBe('with-package-json/with-dot/no-extension/file.js');\n\n\t\texpect(\n\t\t\tpkgs.resolveModuleFile(\n\t\t\t\tpkgDir,\n\t\t\t\t'with-package-json/with-dot/with-extension'\n\t\t\t)\n\t\t).toBe('with-package-json/with-dot/with-extension/file.js');\n\t});\n});\n"]}