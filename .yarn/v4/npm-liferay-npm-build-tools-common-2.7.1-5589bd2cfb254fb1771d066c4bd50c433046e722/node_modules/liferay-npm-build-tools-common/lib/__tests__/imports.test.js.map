{"version":3,"sources":["../../src/__tests__/imports.test.js"],"names":["describe","it","imports","provider1","dep1","dep2","provider2","dep9","dep8","depA","depB","depC","expect","toMatchSnapshot","toMatchObject","name","version","toThrow","dep"],"mappings":";;AAMA;;AAEAA,SAAS,0BAAT,EAAqC,YAAM;AAC1CC,IAAG,6CAAH,EAAkD,YAAM;AACvD,MAAMC,UAAU,qCAAuB;AACtCC,cAAW;AACVC,UAAM,QADI;AAEVC,UAAM;AAFI,IAD2B;AAKtCC,cAAW;AACVC,UAAM,QADI;AAEVC,UAAM;AAFI,IAL2B;AAStC,OAAI;AACHC,UAAM;AADH,IATkC;AAYtCC,SAAM;AACL,SAAK,OADA;AAELC,UAAM;AAFD;AAZgC,GAAvB,CAAhB;;AAkBAC,SAAOV,OAAP,EAAgBW,eAAhB;AACA,EApBD;;AAsBAZ,IAAG,sCAAH,EAA2C,YAAM;AAChD,MAAMC,UAAU,qCACf;AACCC,cAAW;AACVC,UAAM,QADI;AAEVC,UAAM;AAFI,IADZ;AAKCC,cAAW;AACVC,UAAM,QADI;AAEVC,UAAM;AAFI,IALZ;AASC,OAAI;AACHC,UAAM;AADH,IATL;AAYCC,SAAM;AACL,SAAK,OADA;AAELC,UAAM;AAFD;AAZP,GADe,EAkBf,IAlBe,CAAhB;;AAqBAC,SAAOV,OAAP,EAAgBW,eAAhB;AACA,EAvBD;AAwBA,CA/CD,E,CARA;;;;;;AAyDAZ,GAAG,2BAAH,EAAgC,YAAM;AACrC,KAAMC,UAAU,kCAAoB;AACnCC,aAAW;AACVC,SAAM,QADI;AAEVC,SAAM;AAFI,GADwB;AAKnCC,aAAW;AACVC,SAAM,QADI;AAEVC,SAAM;AAFI;AALwB,EAApB,CAAhB;;AAWAI,QAAOV,QAAQ,MAAR,CAAP,EAAwBY,aAAxB,CAAsC;AACrCC,QAAM,WAD+B;AAErCC,WAAS;AAF4B,EAAtC;AAIAJ,QAAOV,QAAQ,MAAR,CAAP,EAAwBY,aAAxB,CAAsC;AACrCC,QAAM,WAD+B;AAErCC,WAAS;AAF4B,EAAtC;AAIAJ,QAAOV,QAAQ,MAAR,CAAP,EAAwBY,aAAxB,CAAsC;AACrCC,QAAM,WAD+B;AAErCC,WAAS;AAF4B,EAAtC;AAIAJ,QAAOV,QAAQ,MAAR,CAAP,EAAwBY,aAAxB,CAAsC;AACrCC,QAAM,WAD+B;AAErCC,WAAS;AAF4B,EAAtC;AAIA,CA5BD;;AA8BAf,GAAG,uDAAH,EAA4D,YAAM;AACjEW,QAAO;AAAA,SACN,kCAAoB;AACnBT,cAAW;AACVC,UAAM;AADI,IADQ;AAInBE,cAAW;AACVF,UAAM;AADI;AAJQ,GAApB,CADM;AAAA,EAAP,EASEa,OATF;AAUA,CAXD;;AAaAjB,SAAS,uDAAT,EAAkE,YAAM;AACvEC,IAAG,kCAAH,EAAuC,YAAM;AAC5C,MAAMC,UAAU,kCAAoB;AACnC,OAAI;AACHgB,SAAK;AADF;AAD+B,GAApB,CAAhB;;AAMAN,SAAOV,QAAQ,KAAR,CAAP,EAAuBY,aAAvB,CAAqC,EAACC,MAAM,EAAP,EAAWC,SAAS,QAApB,EAArC;AACA,EARD;;AAUAf,IAAG,8BAAH,EAAmC,YAAM;AACxC,MAAMC,UAAU,kCAAoB;AACnCgB,QAAK;AACJ,SAAK;AADD;AAD8B,GAApB,CAAhB;;AAMAN,SAAOV,QAAQ,KAAR,CAAP,EAAuBY,aAAvB,CAAqC,EAACC,MAAM,EAAP,EAAWC,SAAS,QAApB,EAArC;AACA,EARD;AASA,CApBD","file":"imports.test.js","sourcesContent":["/**\n * Â© 2017 Liferay, Inc. <https://liferay.com>\n *\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport {normalizeImportsConfig, unrollImportsConfig} from '../imports';\n\ndescribe('normalizeImportsConfig()', () => {\n\tit('works for empty string format normalization', () => {\n\t\tconst imports = normalizeImportsConfig({\n\t\t\tprovider1: {\n\t\t\t\tdep1: '^1.0.0',\n\t\t\t\tdep2: '^2.0.0',\n\t\t\t},\n\t\t\tprovider2: {\n\t\t\t\tdep9: '^9.0.0',\n\t\t\t\tdep8: '^8.0.0',\n\t\t\t},\n\t\t\t'': {\n\t\t\t\tdepA: '3.0.0',\n\t\t\t},\n\t\t\tdepB: {\n\t\t\t\t'/': '4.0.0',\n\t\t\t\tdepC: '5.0.0',\n\t\t\t},\n\t\t});\n\n\t\texpect(imports).toMatchSnapshot();\n\t});\n\n\tit('works for slash format normalization', () => {\n\t\tconst imports = normalizeImportsConfig(\n\t\t\t{\n\t\t\t\tprovider1: {\n\t\t\t\t\tdep1: '^1.0.0',\n\t\t\t\t\tdep2: '^2.0.0',\n\t\t\t\t},\n\t\t\t\tprovider2: {\n\t\t\t\t\tdep9: '^9.0.0',\n\t\t\t\t\tdep8: '^8.0.0',\n\t\t\t\t},\n\t\t\t\t'': {\n\t\t\t\t\tdepA: '3.0.0',\n\t\t\t\t},\n\t\t\t\tdepB: {\n\t\t\t\t\t'/': '4.0.0',\n\t\t\t\t\tdepC: '5.0.0',\n\t\t\t\t},\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\n\t\texpect(imports).toMatchSnapshot();\n\t});\n});\n\nit('unrollImportsConfig works', () => {\n\tconst imports = unrollImportsConfig({\n\t\tprovider1: {\n\t\t\tdep1: '^1.0.0',\n\t\t\tdep2: '^2.0.0',\n\t\t},\n\t\tprovider2: {\n\t\t\tdep9: '^9.0.0',\n\t\t\tdep8: '^8.0.0',\n\t\t},\n\t});\n\n\texpect(imports['dep1']).toMatchObject({\n\t\tname: 'provider1',\n\t\tversion: '^1.0.0',\n\t});\n\texpect(imports['dep2']).toMatchObject({\n\t\tname: 'provider1',\n\t\tversion: '^2.0.0',\n\t});\n\texpect(imports['dep9']).toMatchObject({\n\t\tname: 'provider2',\n\t\tversion: '^9.0.0',\n\t});\n\texpect(imports['dep8']).toMatchObject({\n\t\tname: 'provider2',\n\t\tversion: '^8.0.0',\n\t});\n});\n\nit('unrollImportsConfig throws for duplicated definitions', () => {\n\texpect(() =>\n\t\tunrollImportsConfig({\n\t\t\tprovider1: {\n\t\t\t\tdep1: '^1.0.0',\n\t\t\t},\n\t\t\tprovider2: {\n\t\t\t\tdep1: '^1.0.0',\n\t\t\t},\n\t\t})\n\t).toThrow();\n});\n\ndescribe('unrollImportsConfig handles null namespaces correctly', () => {\n\tit('when described the canonical way', () => {\n\t\tconst imports = unrollImportsConfig({\n\t\t\t'': {\n\t\t\t\tdep: '^1.0.0',\n\t\t\t},\n\t\t});\n\n\t\texpect(imports['dep']).toMatchObject({name: '', version: '^1.0.0'});\n\t});\n\n\tit('when described the sweet way', () => {\n\t\tconst imports = unrollImportsConfig({\n\t\t\tdep: {\n\t\t\t\t'/': '^1.0.0',\n\t\t\t},\n\t\t});\n\n\t\texpect(imports['dep']).toMatchObject({name: '', version: '^1.0.0'});\n\t});\n});\n"]}