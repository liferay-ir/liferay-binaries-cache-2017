{"version":3,"sources":["../../src/jsx/PredictiveChart.js"],"names":["PredictiveChart","config","getInitialConfig","timeseries","data","push","id","map","dataSeries","element","low","mid","high","axisXTickFormat","axisX","tick","format","predictionDate","Date","props","regions","axis","start","tooltipContents","tooltip","contents","Chart","PROPS","PredictiveChartBase","STATE"],"mappings":";;;;;;;;;AAAA;;;;AACA;;AACA;;;;;;;;;;AAEA;;;;IAIMA,e;;;;;;;;;;;;AACL;;;4BAGU;AACT,OAAMC,SAAS,KAAKC,gBAAL,EAAf;;AAEA,OAAI,4BAAgBD,OAAOE,UAAvB,CAAJ,EAAwC;AACvCF,WAAOG,IAAP,CAAYC,IAAZ,CAAiB,EAACD,MAAMH,OAAOE,UAAd,EAA0BG,IAAI,GAA9B,EAAjB;AACA;;AAED,OAAI,4BAAgBL,OAAOG,IAAvB,CAAJ,EAAkC;AACjCH,WAAOG,IAAP,GAAcH,OAAOG,IAAP,CAAYG,GAAZ,CAAgB,sBAAc;AAC3C,SAAIC,WAAWF,EAAX,KAAkB,GAAtB,EAA2B;AAC1BE,iBAAWJ,IAAX,GAAkBI,WAAWJ,IAAX,CAAgBG,GAAhB,CAAoB,mBAAW;AAChD,cAAO,qBAASE,OAAT,IACJ,EAACC,KAAKD,OAAN,EAAeE,KAAKF,OAApB,EAA6BG,MAAMH,OAAnC,EADI,GAEJA,OAFH;AAGA,OAJiB,CAAlB;AAKA;;AAED,YAAOD,UAAP;AACA,KAVa,CAAd;AAWA;;AAED,OAAI,4BAAgBP,OAAOY,eAAvB,CAAJ,EAA6C;AAC5CZ,WAAOa,KAAP,GAAe;AACdC,WAAM;AACLC,cAAQf,OAAOY;AADV;AADQ,KAAf;AAKA;;AAED,OAAI,4BAAgBZ,OAAOgB,cAAvB,CAAJ,EAA4C;AAC3C,QAAI,qBAAShB,OAAOgB,cAAhB,CAAJ,EAAqC;AACpChB,YAAOgB,cAAP,GAAwB,IAAIC,IAAJ,CAASjB,OAAOgB,cAAhB,CAAxB;AACA;;AAED,QAAI,CAAC,4BAAgB,KAAKE,KAAL,CAAWC,OAA3B,CAAL,EAA0C;AACzC,UAAKD,KAAL,CAAWC,OAAX,GAAqB,EAArB;AACA;;AAED,SAAKD,KAAL,CAAWC,OAAX,CAAmBf,IAAnB,CAAwB;AACvBgB,WAAM,GADiB;AAEvBC,YAAOrB,OAAOgB;AAFS,KAAxB;AAIA;;AAED,OAAI,4BAAgB,KAAKM,eAArB,CAAJ,EAA2C;AAC1C,SAAKC,OAAL,CAAaC,QAAb,GAAwB,KAAKF,eAA7B;AACA;AACD;;;;EAnD4BG,e;;AAsD9B1B,gBAAgB2B,KAAhB,GAAwBC,iCAAoBC,KAA5C;;QAEQ7B,e,GAAAA,e;kBACOA,e","file":"PredictiveChart.js","sourcesContent":["import Chart from './Chart';\nimport {PredictiveChart as PredictiveChartBase} from '../PredictiveChart';\nimport {isDefAndNotNull, isString, isNumber} from 'metal';\n\n/**\n * Predictive Chart component.\n * @augments Chart\n */\nclass PredictiveChart extends Chart {\n\t/**\n\t * @inheritDoc\n\t */\n\tcreated() {\n\t\tconst config = this.getInitialConfig();\n\n\t\tif (isDefAndNotNull(config.timeseries)) {\n\t\t\tconfig.data.push({data: config.timeseries, id: 'x'});\n\t\t}\n\n\t\tif (isDefAndNotNull(config.data)) {\n\t\t\tconfig.data = config.data.map(dataSeries => {\n\t\t\t\tif (dataSeries.id !== 'x') {\n\t\t\t\t\tdataSeries.data = dataSeries.data.map(element => {\n\t\t\t\t\t\treturn isNumber(element)\n\t\t\t\t\t\t\t? {low: element, mid: element, high: element}\n\t\t\t\t\t\t\t: element;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn dataSeries;\n\t\t\t});\n\t\t}\n\n\t\tif (isDefAndNotNull(config.axisXTickFormat)) {\n\t\t\tconfig.axisX = {\n\t\t\t\ttick: {\n\t\t\t\t\tformat: config.axisXTickFormat,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tif (isDefAndNotNull(config.predictionDate)) {\n\t\t\tif (isString(config.predictionDate)) {\n\t\t\t\tconfig.predictionDate = new Date(config.predictionDate);\n\t\t\t}\n\n\t\t\tif (!isDefAndNotNull(this.props.regions)) {\n\t\t\t\tthis.props.regions = [];\n\t\t\t}\n\n\t\t\tthis.props.regions.push({\n\t\t\t\taxis: 'x',\n\t\t\t\tstart: config.predictionDate,\n\t\t\t});\n\t\t}\n\n\t\tif (isDefAndNotNull(this.tooltipContents)) {\n\t\t\tthis.tooltip.contents = this.tooltipContents;\n\t\t}\n\t}\n}\n\nPredictiveChart.PROPS = PredictiveChartBase.STATE;\n\nexport {PredictiveChart};\nexport default PredictiveChart;\n"]}