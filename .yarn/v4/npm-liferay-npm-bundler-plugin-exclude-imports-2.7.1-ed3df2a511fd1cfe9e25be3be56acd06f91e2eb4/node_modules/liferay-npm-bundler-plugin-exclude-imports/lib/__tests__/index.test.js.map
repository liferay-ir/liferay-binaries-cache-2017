{"version":3,"sources":["../../src/__tests__/index.test.js"],"names":["it","files","pkg","name","version","globalConfig","imports","provider","config","log","PluginLogger","expect","toHaveLength","originalFiles","slice","toEqual"],"mappings":";;AAMA;;;;AACA;;;;;;AAPA;;;;;;AASAA,GAAG,iDAAH,EAAsD,YAAM;AAC3D,KAAMC,QAAQ,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAd;;AAEA,sBACC;AACCC,OAAK;AACJC,SAAM,OADF;AAEJC,YAAS;AAFL,GADN;AAKCC,gBAAc;AACbC,YAAS;AACRC,cAAU;AACT,cAAS;AADA;AADF;AADI,GALf;AAYCC,UAAQ,EAZT;AAaCC,OAAK,IAAIC,sBAAJ;AAbN,EADD,EAgBC;AACCT;AADD,EAhBD;;AAqBAU,QAAOV,KAAP,EAAcW,YAAd,CAA2B,CAA3B;AACA,CAzBD;;AA2BAZ,GAAG,6DAAH,EAAkE,YAAM;AACvE,KAAMa,gBAAgB,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAtB;AACA,KAAMZ,QAAQY,cAAcC,KAAd,EAAd;;AAEA,sBACC;AACCZ,OAAK;AACJC,SAAM,OADF;AAEJC,YAAS;AAFL,GADN;AAKCC,gBAAc;AACbC,YAAS;AACRC,cAAU;AACT,sBAAiB;AADR;AADF;AADI,GALf;AAYCC,UAAQ,EAZT;AAaCC,OAAK,IAAIC,sBAAJ;AAbN,EADD,EAgBC;AACCT;AADD,EAhBD;;AAqBAU,QAAOV,KAAP,EAAcc,OAAd,CAAsBF,aAAtB;AACA,CA1BD","file":"index.test.js","sourcesContent":["/**\n * Â© 2017 Liferay, Inc. <https://liferay.com>\n *\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PluginLogger from 'liferay-npm-build-tools-common/lib/plugin-logger';\nimport plugin from '../index';\n\nit('empties files when package is listed in imports', () => {\n\tconst files = ['1.js', '2.js', '3.js'];\n\n\tplugin(\n\t\t{\n\t\t\tpkg: {\n\t\t\t\tname: 'pkg-a',\n\t\t\t\tversion: '1.0.0',\n\t\t\t},\n\t\t\tglobalConfig: {\n\t\t\t\timports: {\n\t\t\t\t\tprovider: {\n\t\t\t\t\t\t'pkg-a': '^1.0.0',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfig: {},\n\t\t\tlog: new PluginLogger(),\n\t\t},\n\t\t{\n\t\t\tfiles,\n\t\t}\n\t);\n\n\texpect(files).toHaveLength(0);\n});\n\nit('leaves files untouched when package is missing from imports', () => {\n\tconst originalFiles = ['1.js', '2.js', '3.js'];\n\tconst files = originalFiles.slice();\n\n\tplugin(\n\t\t{\n\t\t\tpkg: {\n\t\t\t\tname: 'pkg-a',\n\t\t\t\tversion: '1.0.0',\n\t\t\t},\n\t\t\tglobalConfig: {\n\t\t\t\timports: {\n\t\t\t\t\tprovider: {\n\t\t\t\t\t\t'other-package': '^1.0.0',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfig: {},\n\t\t\tlog: new PluginLogger(),\n\t\t},\n\t\t{\n\t\t\tfiles,\n\t\t}\n\t);\n\n\texpect(files).toEqual(originalFiles);\n});\n"]}