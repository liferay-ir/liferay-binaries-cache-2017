{"version":3,"sources":["../src/index.js"],"names":["log","pkg","rootPkgJson","pkgJson","isRoot","name","ns","addNamespace","info","dependencies","Object","keys","forEach","namespacedPkgName","pkgName","version","length"],"mappings":";;;;;;kBAWe,uBAA6C;AAAA,KAAnCA,GAAmC,QAAnCA,GAAmC;AAAA,KAA9BC,GAA8B,QAA9BA,GAA8B;AAAA,KAAzBC,WAAyB,QAAzBA,WAAyB;AAAA,KAAVC,OAAU,SAAVA,OAAU;;AAC3D,KAAI,CAACF,IAAIG,MAAT,EAAiB;AAChBD,UAAQE,IAAR,GAAeC,GAAGC,YAAH,CAAgBJ,QAAQE,IAAxB,EAA8BH,WAA9B,CAAf;;AAEAF,MAAIQ,IAAJ,CAAS,oBAAT,EAA+B,oBAA/B;AACA;;AAEDL,SAAQM,YAAR,GAAuBN,QAAQM,YAAR,IAAwB,EAA/C;;AAEAC,QAAOC,IAAP,CAAYR,QAAQM,YAApB,EAAkCG,OAAlC,CAA0C,mBAAW;AACpD,MAAMC,oBAAoBP,GAAGC,YAAH,CAAgBO,OAAhB,EAAyBZ,WAAzB,CAA1B;AACA,MAAMa,UAAUZ,QAAQM,YAAR,CAAqBK,OAArB,CAAhB;;AAEAX,UAAQM,YAAR,CAAqBI,iBAArB,IAA0CE,OAA1C;;AAEA,SAAOZ,QAAQM,YAAR,CAAqBK,OAArB,CAAP;AACA,EAPD;;AASAd,KAAIQ,IAAJ,CACC,oBADD,EAEC,YAFD,EAGCE,OAAOC,IAAP,CAAYR,QAAQM,YAApB,EAAkCO,MAHnC,EAIC,cAJD;AAMA,C;;AA7BD;;IAAYV,E","file":"index.js","sourcesContent":["/**\n * Â© 2017 Liferay, Inc. <https://liferay.com>\n *\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport * as ns from 'liferay-npm-build-tools-common/lib/namespace';\n\n/**\n * @return {void}\n */\nexport default function({log, pkg, rootPkgJson}, {pkgJson}) {\n\tif (!pkg.isRoot) {\n\t\tpkgJson.name = ns.addNamespace(pkgJson.name, rootPkgJson);\n\n\t\tlog.info('namespace-packages', 'Namespaced package');\n\t}\n\n\tpkgJson.dependencies = pkgJson.dependencies || {};\n\n\tObject.keys(pkgJson.dependencies).forEach(pkgName => {\n\t\tconst namespacedPkgName = ns.addNamespace(pkgName, rootPkgJson);\n\t\tconst version = pkgJson.dependencies[pkgName];\n\n\t\tpkgJson.dependencies[namespacedPkgName] = version;\n\n\t\tdelete pkgJson.dependencies[pkgName];\n\t});\n\n\tlog.info(\n\t\t'namespace-packages',\n\t\t'Namespaced',\n\t\tObject.keys(pkgJson.dependencies).length,\n\t\t'dependencies'\n\t);\n}\n"]}